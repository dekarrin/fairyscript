[{'text': '# Test combinations of the grammar', 'type': 'comment'}, {'langs': None, 'instruction': 'INCLUDE', 'type': 'annotation', 'file': ('string', 'test/sources/quickstart.rpy'), 'parsing': ('boolean', False)}, {'langs': [('id', 'renpy')], 'instruction': 'INCLUDE', 'type': 'annotation', 'file': ('string', 'test/sources/quickstart.rpy'), 'parsing': ('boolean', False)}, {'langs': [('id', 'renpy')], 'instruction': 'INCLUDE', 'type': 'annotation', 'file': ('string', 'test/sources/bindings.rpy'), 'parsing': ('boolean', False)}, {'destination': ('id', 'choice-section'), 'instruction': 'GOTO', 'type': 'annotation'}, {'instruction': 'SCENE', 'type': 'directive', 'name': ('id', 'Bobs-garage-2'), 'transition': None}, {'instruction': 'SCENE', 'type': 'directive', 'name': ('id', 'my-house'), 'transition': ('id', 'FADE')}, {'motion': None, 'transition': None, 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [], 'type': 'directive'}, {'motion': None, 'transition': None, 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [('id', 'pissed-off')], 'type': 'directive'}, {'motion': None, 'transition': None, 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [('id', 'pissed-off'), ('id', 'annoyed')], 'type': 'directive'}, {'motion': None, 'transition': None, 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [('id', 'pissed'), ('id', 'annoyed'), ('id', 'with-back-turned')], 'type': 'directive'}, {'motion': None, 'transition': ('id', 'DISSOLVE'), 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [], 'type': 'directive'}, {'motion': None, 'transition': ('id', 'DISSOLVE'), 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [('id', 'pissed-off')], 'type': 'directive'}, {'motion': None, 'transition': ('id', 'DISSOLVE'), 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [('id', 'pissed-off'), ('id', 'annoyed')], 'type': 'directive'}, {'motion': None, 'transition': ('id', 'FADE'), 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [('id', 'pissed'), ('id', 'annoyed'), ('id', 'with-back-turned')], 'type': 'directive'}, {'motion': {'origin': ('id', 'LEFT'), 'duration': None, 'destination': None}, 'transition': None, 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [], 'type': 'directive'}, {'motion': {'origin': None, 'duration': None, 'destination': ('id', 'DOOR')}, 'transition': None, 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [], 'type': 'directive'}, {'motion': {'origin': None, 'duration': ('rel', 'QUICKLY'), 'destination': None}, 'transition': None, 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [], 'type': 'directive'}, {'motion': {'origin': None, 'duration': ('rel', 'SLOWLY'), 'destination': None}, 'transition': ('id', 'FADE'), 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [], 'type': 'directive'}, {'motion': {'origin': ('id', 'LEFT'), 'duration': None, 'destination': ('id', 'DOOR')}, 'transition': ('id', 'FADE'), 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [], 'type': 'directive'}, {'motion': {'origin': ('id', 'LEFT'), 'duration': ('number', 4.5), 'destination': ('id', 'DOOR')}, 'transition': ('id', 'FADE'), 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [], 'type': 'directive'}, {'motion': {'origin': ('id', 'LEFT'), 'duration': ('number', 4.5), 'destination': ('id', 'DOOR')}, 'transition': ('id', 'FADE'), 'target': ('id', 'Aerith'), 'instruction': 'ENTER', 'states': [('id', 'pissed'), ('id', 'mean')], 'type': 'directive'}, {'instruction': 'ACTION', 'target': ('id', 'Bob'), 'destination': None, 'states': [('id', 'pissed')], 'duration': None, 'type': 'directive'}, {'instruction': 'ACTION', 'target': ('id', 'Bob'), 'destination': ('id', 'stage-front'), 'states': [], 'duration': None, 'type': 'directive'}, {'instruction': 'ACTION', 'target': ('id', 'Bob'), 'destination': ('id', 'stage-left'), 'states': [], 'duration': ('rel', 'QUICKLY'), 'type': 'directive'}, {'instruction': 'ACTION', 'target': ('id', 'Bob'), 'destination': ('id', 'bookshelf'), 'states': [('id', 'pissed'), ('id', 'happy')], 'duration': ('rel', 'SLOWLY'), 'type': 'directive'}, {'motion': None, 'instruction': 'EXIT', 'type': 'directive', 'target': ('id', 'Aerith'), 'transition': None}, {'motion': None, 'instruction': 'EXIT', 'type': 'directive', 'target': ('id', 'Aerith'), 'transition': ('id', 'FADE')}, {'motion': {'origin': ('id', 'door'), 'duration': None, 'destination': None}, 'instruction': 'EXIT', 'type': 'directive', 'target': ('id', 'Aerith'), 'transition': None}, {'motion': {'origin': None, 'duration': None, 'destination': ('id', 'east-stairwell')}, 'instruction': 'EXIT', 'type': 'directive', 'target': ('id', 'Aerith'), 'transition': None}, {'motion': {'origin': None, 'duration': ('rel', 'SLOWLY'), 'destination': None}, 'instruction': 'EXIT', 'type': 'directive', 'target': ('id', 'Aerith'), 'transition': None}, {'motion': {'origin': None, 'duration': ('rel', 'SLOWLY'), 'destination': None}, 'instruction': 'EXIT', 'type': 'directive', 'target': ('id', 'Aerith'), 'transition': ('id', 'FADE')}, {'motion': {'origin': ('id', 'door'), 'duration': ('number', 9), 'destination': ('id', 'east-stairwell')}, 'instruction': 'EXIT', 'type': 'directive', 'target': ('id', 'Aerith'), 'transition': ('id', 'FADE')}, {'duration': None, 'action': 'stop', 'instruction': 'MUSIC', 'type': 'directive', 'target': ('rel', 'ALL')}, {'duration': ('rel', 'QUICKLY'), 'action': 'stop', 'instruction': 'MUSIC', 'type': 'directive', 'target': ('rel', 'ALL')}, {'duration': ('number', 3), 'action': 'stop', 'instruction': 'MUSIC', 'type': 'directive', 'target': ('rel', 'ALL')}, {'duration': None, 'action': 'stop', 'instruction': 'MUSIC', 'type': 'directive', 'target': ('rel', 'ALL')}, {'duration': ('rel', 'SLOWLY'), 'action': 'stop', 'instruction': 'MUSIC', 'type': 'directive', 'target': ('rel', 'ALL')}, {'duration': None, 'action': 'stop', 'instruction': 'MUSIC', 'type': 'directive', 'target': ('string', 'bad.ogg')}, {'duration': ('rel', 'SLOWLY'), 'action': 'stop', 'instruction': 'MUSIC', 'type': 'directive', 'target': ('id', 'main_theme')}, {'action': 'start', 'fadeout': None, 'instruction': 'MUSIC', 'type': 'directive', 'target': ('id', 'main-theme')}, {'action': 'start', 'fadeout': ('number', 5), 'instruction': 'MUSIC', 'type': 'directive', 'target': ('string', 'main.ogg')}, {'action': 'start', 'fadeout': ('number', 5), 'instruction': 'MUSIC', 'type': 'directive', 'target': ('string', 'main.ogg')}, {'action': 'start', 'instruction': 'GFX', 'type': 'directive', 'target': ('id', 'flash'), 'loop': ('boolean', False)}, {'action': 'start', 'instruction': 'GFX', 'type': 'directive', 'target': ('id', 'flash'), 'loop': ('boolean', True)}, {'duration': None, 'action': 'stop', 'instruction': 'GFX', 'type': 'directive', 'target': ('id', 'flash')}, {'duration': None, 'action': 'stop', 'instruction': 'GFX', 'type': 'directive', 'target': ('rel', 'ALL')}, {'duration': ('number', 5), 'action': 'stop', 'instruction': 'GFX', 'type': 'directive', 'target': ('id', 'flash')}, {'duration': ('rel', 'QUICKLY'), 'action': 'stop', 'instruction': 'GFX', 'type': 'directive', 'target': ('rel', 'ALL')}, {'duration': None, 'action': 'stop', 'instruction': 'GFX', 'type': 'directive', 'target': ('rel', 'ALL')}, {'duration': ('rel', 'SLOWLY'), 'action': 'stop', 'instruction': 'GFX', 'type': 'directive', 'target': ('rel', 'ALL')}, {'action': 'start', 'instruction': 'SFX', 'type': 'directive', 'target': ('id', 'bang'), 'loop': ('boolean', False)}, {'action': 'start', 'instruction': 'SFX', 'type': 'directive', 'target': ('string', 'concrete-sprint.ogg'), 'loop': ('boolean', False)}, {'action': 'start', 'instruction': 'SFX', 'type': 'directive', 'target': ('string', 'swish.ogg'), 'loop': ('boolean', True)}, {'action': 'start', 'instruction': 'SFX', 'type': 'directive', 'target': ('id', 'swish'), 'loop': ('boolean', True)}, {'duration': None, 'action': 'stop', 'instruction': 'SFX', 'type': 'directive', 'target': ('string', 'swish.ogg')}, {'duration': ('rel', 'SLOWLY'), 'action': 'stop', 'instruction': 'SFX', 'type': 'directive', 'target': ('id', 'swish')}, {'duration': ('rel', 'QUICKLY'), 'action': 'stop', 'instruction': 'SFX', 'type': 'directive', 'target': ('rel', 'ALL')}, {'duration': None, 'action': 'stop', 'instruction': 'SFX', 'type': 'directive', 'target': ('rel', 'ALL')}, {'duration': ('number', 4), 'action': 'stop', 'instruction': 'SFX', 'type': 'directive', 'target': ('rel', 'ALL')}, {'instruction': 'FMV', 'type': 'directive', 'target': ('id', 'opening')}, {'instruction': 'FMV', 'type': 'directive', 'target': ('string', 'opening_video.mp4')}, {'instruction': 'CAMERA', 'type': 'directive', 'actions': [{'type': 'SNAP', 'target': ('id', 'middle')}]}, {'instruction': 'CAMERA', 'type': 'directive', 'actions': [{'duration': ('rel', 'QUICKLY'), 'type': 'PAN', 'target': ('id', 'center')}]}, {'instruction': 'CAMERA', 'type': 'directive', 'actions': [{'duration': None, 'type': 'ZOOM', 'target': ('rel', 'IN')}]}, {'instruction': 'CAMERA', 'type': 'directive', 'actions': [{'duration': None, 'type': 'ZOOM', 'target': ('rel', 'OUT')}]}, {'instruction': 'CAMERA', 'type': 'directive', 'actions': [{'duration': ('number', 3), 'type': 'ZOOM', 'target': ('rel', 'OUT')}]}, {'instruction': 'CAMERA', 'type': 'directive', 'actions': [{'duration': ('number', 3), 'type': 'PAN', 'target': ('id', 'middle')}, {'duration': ('rel', 'QUICKLY'), 'type': 'ZOOM', 'target': ('rel', 'OUT')}]}, {'instruction': 'CAMERA', 'type': 'directive', 'actions': [{'duration': ('number', 3), 'type': 'PAN', 'target': ('id', 'middle')}, {'duration': ('rel', 'QUICKLY'), 'type': 'ZOOM', 'target': ('rel', 'OUT')}, {'type': 'SNAP', 'target': ('id', 'bookshelf')}]}, {'title': None, 'instruction': 'CHOICE', 'type': 'directive', 'label': None, 'choices': [{'text': ('string', "Show her the 'private collection'"), 'target': ('id', 'private'), 'condition': None, 'sets': []}, {'text': ('string', 'Show them the call logs'), 'target': ('id', 'call_logs'), 'condition': ('boolean', True), 'sets': []}, {'text': ('string', 'Show her the missing files'), 'target': ('id', 'files'), 'condition': ('id', 'have_hacked_computer'), 'sets': []}, {'text': ('string', 'Show him the broken chair'), 'target': ('id', 'files'), 'condition': ('id', 'hacked_computer'), 'sets': []}, {'text': ('string', 'Punch her'), 'target': ('id', 'punch'), 'condition': ('boolean', False), 'sets': [{'name': ('id', 'have_punched_aerith'), 'value': ('boolean', True)}]}]}, {'title': ('string', 'What should I tell him?'), 'instruction': 'CHOICE', 'type': 'directive', 'label': ('id', 'choice-section'), 'choices': [{'text': ('string', 'Try to feign ignorance'), 'target': ('id', 'ignorance'), 'condition': None, 'sets': [{'name': ('id', 'goodness'), 'value': ('incdec', {'amount': ('number', 5), 'type': ('rel', 'DEC')})}, {'name': ('id', 'ignore'), 'value': ('incdec', {'amount': ('number', 1), 'type': ('rel', 'INC')})}]}, {'text': ('string', 'Tell the truth'), 'target': ('id', 'tell_truth'), 'condition': None, 'sets': [{'name': ('id', 'badness'), 'value': ('id', 'goodness')}, {'name': ('id', 'truth'), 'value': ('boolean', True)}]}, {'text': ('string', 'Run away.'), 'target': ('id', 'run'), 'condition': ('expr', 'x + 4 >= 39'), 'sets': []}]}, {'instruction': 'SCENE', 'type': 'directive', 'name': ('id', 'ayase-bedroom'), 'transition': None}, {'text': ('string', 'We see a series of shelves and boxes. There is a huge mess everywhere. It pretty much looks like the room of any 12th-grader.'), 'instruction': 'DESCRIPTION', 'type': 'annotation', 'target': None}, {'text': ('string', 'What a hunk of junk! Those wanna-be commandos mounted a rescue operation and came to rescue you in THAT?'), 'instruction': 'DESCRIPTION', 'type': 'annotation', 'target': ('id', 'millenium-falcon')}, {'text': ('string', "this description is explicitly escaped with a pre-colon, though it probably doesn't need it."), 'instruction': 'DESCRIPTION', 'type': 'annotation', 'target': None}, {'text': ('string', ':This description begins with a colon, and so it must be escaped, I guess.'), 'instruction': 'DESCRIPTION', 'type': 'annotation', 'target': None}, {'text': ('string', 'starting_like_this: means that it must be escaped.'), 'instruction': 'DESCRIPTION', 'type': 'annotation', 'target': None}, {'params': [], 'section': ('id', 'punch'), 'instruction': 'SECTION', 'type': 'annotation'}, {'instruction': 'FLAGSET', 'type': 'annotation', 'name': ('id', 'have_drank_tea'), 'value': ('boolean', True)}, {'instruction': 'FLAGSET', 'type': 'annotation', 'name': ('id', 'drank_tea'), 'value': ('boolean', True)}, {'instruction': 'FLAGSET', 'type': 'annotation', 'name': ('id', 'drank_tea'), 'value': ('boolean', False)}, {'instruction': 'FLAGSET', 'type': 'annotation', 'name': ('id', 'have_drank_tea'), 'value': ('boolean', True)}, {'instruction': 'FLAGSET', 'type': 'annotation', 'name': ('id', 'have_drank_tea'), 'value': ('boolean', False)}, {'instruction': 'FLAGSET', 'type': 'annotation', 'name': ('id', 'impressed_aerith'), 'value': ('id', 'have_hacked_computer')}, {'instruction': 'FLAGSET', 'type': 'annotation', 'name': ('id', 'have_impressed_aerith'), 'value': ('id', 'have_hacked_computer')}, {'instruction': 'FLAGSET', 'type': 'annotation', 'name': ('id', 'impressed_aerith'), 'value': ('id', 'hacked_computer')}, {'instruction': 'FLAGSET', 'type': 'annotation', 'name': ('id', 'have_impressed_aerith'), 'value': ('id', 'hacked_computer')}, {'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'runs'), 'value': ('number', 1)}, {'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'runs'), 'value': ('string', '82')}, {'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'runs'), 'value': ('incdec', {'amount': ('number', 1), 'type': ('rel', 'INC')})}, {'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'have_run'), 'value': ('boolean', False)}, {'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'reps'), 'value': ('number', 28)}, {'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'reps'), 'value': ('incdec', {'amount': ('number', 5), 'type': ('rel', 'DEC')})}, {'instruction': 'DIALOG', 'type': 'annotation', 'mode': 'HIDE'}, {'instruction': 'DIALOG', 'type': 'annotation', 'mode': 'SHOW'}, {'instruction': 'DIALOG', 'type': 'annotation', 'mode': 'AUTO'}, {'destination': ('id', 'aerith-punch'), 'instruction': 'GOTO', 'type': 'annotation'}, {'destination': ('id', 'bob-punch'), 'instruction': 'GOTO', 'type': 'annotation'}, {'params': [{'name': ('id', 'target'), 'value': ('string', 'bob')}], 'section': ('id', 'punch'), 'instruction': 'EXECUTE', 'type': 'annotation'}, {'params': [], 'section': ('id', 'aerith-punch'), 'instruction': 'EXECUTE', 'type': 'annotation'}, {'instruction': 'END', 'type': 'annotation'}, {'retval': ('number', 5), 'instruction': 'END', 'type': 'annotation'}, {'langs': None, 'instruction': 'INCLUDE', 'type': 'annotation', 'file': ('string', 'test/sources/quickstart.rpy'), 'parsing': ('boolean', False)}, {'statements': [{'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'runs'), 'value': ('incdec', {'amount': ('number', 1), 'type': ('rel', 'INC')})}], 'instruction': 'WHILE', 'type': 'annotation', 'condition': ('id', 'staff')}, {'statements': [{'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'runs'), 'value': ('incdec', {'amount': ('number', 1), 'type': ('rel', 'DEC')})}], 'instruction': 'WHILE', 'type': 'annotation', 'condition': ('boolean', True)}, {'statements': [{'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'runs'), 'value': ('incdec', {'amount': ('number', 2), 'type': ('rel', 'INC')})}], 'instruction': 'WHILE', 'type': 'annotation', 'condition': ('boolean', False)}, {'statements': [{'instruction': 'FLAGSET', 'type': 'annotation', 'name': ('id', 'have_seen_god'), 'value': ('boolean', True)}], 'instruction': 'WHILE', 'type': 'annotation', 'condition': ('expr', 'x > 8 and q is not 6')}, {'branches': [{'statements': [{'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'runs'), 'value': ('incdec', {'amount': ('number', 1), 'type': ('rel', 'INC')})}], 'condition': ('id', 'staff')}], 'instruction': 'IF', 'type': 'annotation'}, {'branches': [{'statements': [{'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'runs'), 'value': ('incdec', {'amount': ('number', 1), 'type': ('rel', 'DEC')})}], 'condition': ('boolean', True)}, {'statements': [{'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'runs'), 'value': ('incdec', {'amount': ('number', 2), 'type': ('rel', 'INC')})}, {'instruction': 'VARSET', 'type': 'annotation', 'name': ('id', 'runs'), 'value': ('incdec', {'amount': ('number', 1), 'type': ('rel', 'INC')})}], 'condition': ('boolean', False)}], 'instruction': 'IF', 'type': 'annotation'}, {'branches': [{'statements': [{'instruction': 'FLAGSET', 'type': 'annotation', 'name': ('id', 'have_seen_god'), 'value': ('boolean', True)}, {'destination': ('id', 'bob-world'), 'instruction': 'GOTO', 'type': 'annotation'}, {'branches': [{'statements': [{'destination': ('id', 'aerith-world'), 'instruction': 'GOTO', 'type': 'annotation'}], 'condition': ('id', 'have_seen_god')}], 'instruction': 'IF', 'type': 'annotation'}], 'condition': ('expr', 'x > 8 and q is not 6')}, {'statements': [{'params': [], 'section': ('id', 'aerith-punch'), 'instruction': 'EXECUTE', 'type': 'annotation'}], 'condition': ('expr', '35 + 14 > 4')}, {'statements': [{'instruction': 'FLAGSET', 'type': 'annotation', 'name': ('id', 'have_seen_god'), 'value': ('boolean', False)}], 'condition': None}], 'instruction': 'IF', 'type': 'annotation'}, {'body': '\t42+1\n\tfor i in ziebel:\n\t\tprint i', 'instruction': 'PYTHON', 'type': 'annotation'}, {'states': [], 'speaker': None, 'type': 'line', 'text': ('string', 'It feels like everything has gone wrong.')}, {'states': [], 'speaker': None, 'type': 'line', 'text': ('string', "Never before have I felt so awful! I guess that's just how it goes...")}, {'states': [], 'speaker': None, 'type': 'line', 'text': ('string', 'One day it will be better.')}, {'states': [], 'speaker': ('id', 'Aerith'), 'type': 'line', 'text': ('string', "Hey man, what's up?")}, {'states': [], 'speaker': None, 'type': 'line', 'text': ('string', "Aerith? What's she doing here?")}, {'states': [], 'speaker': ('id', 'Aerith'), 'type': 'line', 'text': ('string', 'I heard you were feeling down.')}, {'states': [], 'speaker': ('id', 'Aerith'), 'type': 'line', 'text': ('string', 'So I decided to stop by.')}, {'langs': None, 'instruction': 'INCLUDE', 'type': 'annotation', 'file': ('string', 'test/sources/full_test_inc.scp'), 'parsing': ('boolean', True)}, {'states': [], 'speaker': ('string', 'The Wall'), 'type': 'line', 'text': ('string', "Don't forget about me!")}, {'states': [], 'speaker': ('string', 'The Wall'), 'type': 'line', 'text': ('string', "I'm here too, you know!")}]